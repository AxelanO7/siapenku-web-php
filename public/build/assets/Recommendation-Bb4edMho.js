import Z from"./CustomAppLayout-BlOLLf6c.js";import{d as r,i as aa,o as h,c as G,w as l,j as S,a,b as s,u as e,g as c,t as i,e as K,h as k,n as C,F as $,f as ea}from"./app-CsMuTmEp.js";import{A as B}from"./auth_helper-Cv1QkgaD.js";import{_ as D,C as U,c as M}from"./index-C68KTifo.js";import{a as j,C as L,b as N,c as T,d as P,e as V,f as A,g as F,h as I,_ as H}from"./PopoverContent-DYqz5gx_.js";import{S as J}from"./sweetalert2.all--Ekuz75v.js";import"./CustomSidebar-DbWTILxn.js";const sa={class:"m-12"},ta={class:"bg-white rounded-lg shadow-lg"},la={class:"text-center font-medium text-xl pt-4 pb-8"},na=a("div",{class:"flex items-center px-20 justify-center h-max relative py-6"},[a("img",{src:"/assets/images/kop.png",class:"h-28 w-28 absolute left-20"}),a("div",null,[a("h3",null,"Pemerintahan Kabupaten Buleleng"),a("h3",null,"Kecamatan Kabutambahan"),a("h3",null,"Banjar Dinas Dangin Margi")])],-1),ia=a("hr",{class:"border-2 border-black my-4"},null,-1),oa={class:"flex items-center w-full justify-center space-x-4"},da=a("h3",null,"Surat Keterangan :",-1),ca=a("div",{class:"h-4"},null,-1),ua={class:"flex items-center w-full justify-center space-x-4"},ra=a("h3",null,"Nomor :",-1),_a=a("div",{class:"h-4"},null,-1),va={class:"px-8 text-left"},ha=a("h3",{class:"mb-4"}," Saya yang bertanda tangan dibawah ini : ",-1),fa={class:"space-y-2"},ma={class:"flex items-center"},pa=a("p",{class:"w-1/4"},"a. Nama",-1),ga=a("p",{class:"mx-4"},":",-1),wa={class:"flex"},ba=a("p",{class:"w-1/4"},"b. Jabatan",-1),xa=a("p",{class:"mx-4"},":",-1),Ka=["value"],ya=a("h3",{class:"my-4"},"Dengan ini menyatakan bahwa :",-1),Sa={key:0,class:"space-y-2"},ka={class:"flex pl-8"},Ca={class:"flex w-full items-center"},$a=a("div",{class:"w-1/4"},"1. Nama",-1),Ba={class:"w-3/4"},Da={class:"flex pl-8"},Ua={class:"flex w-full items-center"},Ma=a("div",{class:"w-1/4"},"2. Tempat Lahir",-1),ja={class:"w-3/4"},La={class:"flex pl-8"},Na={class:"flex w-full items-center"},Ta=a("div",{class:"w-1/4"},"3. Tanggal Lahir",-1),Pa={class:"w-3/4"},Va={class:"flex pl-8"},Aa={class:"flex w-full items-center"},Fa=a("div",{class:"w-1/4"},"4. Jenis Kelamin",-1),Ia={class:"w-3/4"},Ha={class:"flex pl-8"},Ja={class:"flex w-full items-center"},za=a("div",{class:"w-1/4"},"5. Agama",-1),Ea={class:"w-3/4"},Ra={class:"flex pl-8"},Wa={class:"flex w-full items-center"},qa=a("div",{class:"w-1/4"},"6. No. KK",-1),Ga={class:"w-3/4"},Oa={class:"flex pl-8"},Qa={class:"flex w-full items-center"},Xa=a("div",{class:"w-1/4"},"7. NIK",-1),Ya={class:"w-3/4"},Za={class:"flex pl-8"},ae={class:"flex w-full items-center"},ee=a("div",{class:"w-1/4"},"8. Alamat",-1),se={class:"w-3/4"},te={class:"flex pl-8"},le={class:"flex w-full items-center"},ne=a("div",{class:"w-1/4"},"9. Kebangsaan",-1),ie={class:"w-3/4"},oe={class:"flex pl-8"},de={class:"flex w-full items-center"},ce=a("div",{class:"w-1/4"},"10. Keperluan",-1),ue={class:"w-3/4"},re={class:"flex pl-8"},_e={class:"flex w-full items-center"},ve=a("div",{class:"w-1/4"},"11. Lampiran",-1),he={class:"flex"},fe=a("p",{class:"mt-12"}," Demikian surat keterangan ini dibuat untuk dipergunakan dengan semestinya. ",-1),me={class:"flex justify-end"},pe={class:"text-center"},ge=a("p",null,"Kelian Banjar Dinas Dangin Margi",-1),we={class:"w-44 mx-auto p-1 rounded mt-4"},be=["src"],xe={class:"mt-4"},Ue={__name:"Recommendation",setup(Ke){const z=[{label:"Surat Keterangan Usaha",value:"Surat Keterangan Usaha"},{label:"Surat Keterangan Domisili",value:"Surat Keterangan Domisili"},{label:"Surat Keterangan Tidak Mampu",value:"Surat Keterangan Tidak Mampu"},{label:"Surat Keterangan Kematian",value:"Surat Keterangan Kematian"},{label:"Surat Keterangan Lahir",value:"Surat Keterangan Lahir"},{label:"Surat Keterangan Pindah",value:"Surat Keterangan Pindah"},{label:"Surat Keterangan Cerai",value:"Surat Keterangan Cerai"},{label:"Surat Keterangan Belum Menikah",value:"Surat Keterangan Belum Menikah"},{label:"Surat Keterangan Menikah",value:"Surat Keterangan Menikah"}],g=r(!1),f=r(""),E=[{label:"01/SKU/2024",value:"01/SKU/2024"},{label:"02/SKD/2024",value:"02/SKD/2024"},{label:"03/SKT/2024",value:"03/SKT/2024"},{label:"04/SKK/2024",value:"04/SKK/2024"},{label:"05/SKL/2024",value:"05/SKL/2024"},{label:"06/SKP/2024",value:"06/SKP/2024"},{label:"07/SKC/2024",value:"07/SKC/2024"},{label:"08/SKBM/2024",value:"08/SKBM/2024"},{label:"09/SKM/2024",value:"09/SKM/2024"}],w=r(!1),m=r(""),b=r(!1),p=r(""),x=r(),O=async()=>{const u=await B.getBaseUrl();S.get(`${u}/letter/${R}`).then(n=>{const _=n.data.data;o.value=_}).catch(n=>{console.log(n)})},o=r(),Q=async()=>{const u=await B.getBaseUrl();S.get(`${u}/kadus`).then(n=>{const _=n.data.data;y.value=_}).catch(n=>{console.log(n)})},y=r(),X=async()=>{const u=await B.getBaseUrl();let n=o.value;const _={no_letter:m.value,type_letter:f.value,kadus_id:p.value};n={...n,..._},n.status="sended",S.put(`${u}/letter/${R}`,n).then(v=>{console.log(v),J.fire({icon:"success",title:"Data berhasil dikirim",showConfirmButton:!1,timer:1500}),window.location.href="/village-chief/validate"}).catch(v=>{J.fire({icon:"error",title:"Data gagal dikirim",showConfirmButton:!1,timer:1500}),console.log(v)})},Y=u=>{J.fire({title:"Lampiran",text:u,imageUrl:`/files/${u}`,imageWidth:400,imageHeight:200,imageAlt:"Custom image"})},R=window.location.href.split("/").pop();return aa(()=>{O(),Q()}),(u,n)=>(h(),G(Z,{title:"Submission"},{default:l(()=>{var _,v,W,q;return[a("div",sa,[a("div",ta,[a("div",la,[na,ia,a("div",oa,[da,s(e(H),{open:g.value,"onUpdate:open":n[1]||(n[1]=t=>g.value=t)},{default:l(()=>[s(e(j),{"as-child":""},{default:l(()=>[s(e(D),{variant:"outline",role:"combobox","aria-expanded":g.value,class:"justify-between"},{default:l(()=>{var t;return[c(i(f.value?(t=z.find(d=>d.value===f.value))==null?void 0:t.label:"Pilih surat keterangan...")+" ",1),s(e(L),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]}),_:1},8,["aria-expanded"])]),_:1}),s(e(N),{class:"w-[200px] p-0"},{default:l(()=>[s(e(T),null,{default:l(()=>[s(e(P),{class:"h-9",placeholder:"Cari suket..."}),s(e(V),null,{default:l(()=>[c(" Tidak ada data ")]),_:1}),s(e(A),null,{default:l(()=>[s(e(F),null,{default:l(()=>[(h(),K($,null,k(z,t=>s(e(I),{key:t.value,value:t.value,onSelect:n[0]||(n[0]=d=>{typeof d.detail.value=="string"&&(f.value=d.detail.value),g.value=!1})},{default:l(()=>[c(i(t.label)+" ",1),s(e(U),{class:C(e(M)("ml-auto h-4 w-4",f.value===t.value?"opacity-100":"opacity-0"))},null,8,["class"])]),_:2},1032,["value"])),64))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]),ca,a("div",ua,[ra,s(e(H),{open:w.value,"onUpdate:open":n[3]||(n[3]=t=>w.value=t)},{default:l(()=>[s(e(j),{"as-child":""},{default:l(()=>[s(e(D),{variant:"outline",role:"combobox","aria-expanded":w.value,class:"justify-between"},{default:l(()=>{var t;return[c(i(m.value?(t=E.find(d=>d.value===m.value))==null?void 0:t.label:"Pilih nomor surat...")+" ",1),s(e(L),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]}),_:1},8,["aria-expanded"])]),_:1}),s(e(N),{class:"w-[200px] p-0"},{default:l(()=>[s(e(T),null,{default:l(()=>[s(e(P),{class:"h-9",placeholder:"Cari nomor surat..."}),s(e(V),null,{default:l(()=>[c(" Tidak ada data ")]),_:1}),s(e(A),null,{default:l(()=>[s(e(F),null,{default:l(()=>[(h(),K($,null,k(E,t=>s(e(I),{key:t.value,value:t.value,onSelect:n[2]||(n[2]=d=>{typeof d.detail.value=="string"&&(m.value=d.detail.value),w.value=!1})},{default:l(()=>[c(i(t.label)+" ",1),s(e(U),{class:C(e(M)("ml-auto h-4 w-4",m.value===t.value?"opacity-100":"opacity-0"))},null,8,["class"])]),_:2},1032,["value"])),64))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]),_a,a("div",va,[ha,a("div",fa,[a("div",ma,[pa,ga,s(e(H),{open:b.value,"onUpdate:open":n[4]||(n[4]=t=>b.value=t)},{default:l(()=>[s(e(j),{"as-child":""},{default:l(()=>[s(e(D),{variant:"outline",role:"combobox","aria-expanded":b.value,class:"justify-between w-3/4"},{default:l(()=>{var t;return[c(i(p.value?(t=y.value.find(d=>d.id===p.value))==null?void 0:t.name:"Pilih nama...")+" ",1),s(e(L),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]}),_:1},8,["aria-expanded"])]),_:1}),s(e(N),{class:"w-[200px] p-0"},{default:l(()=>[s(e(T),null,{default:l(()=>[s(e(P),{class:"h-9",placeholder:"Cari nama..."}),s(e(V),null,{default:l(()=>[c(" Tidak ada data ")]),_:1}),s(e(A),null,{default:l(()=>[s(e(F),null,{default:l(()=>[(h(!0),K($,null,k(y.value,t=>(h(),G(e(I),{key:t.id,value:t.id,onSelect:d=>{typeof d.detail.value=="number"&&(p.value=d.detail.value),x.value=t,b.value=!1}},{default:l(()=>[c(i(t.name)+" ",1),s(e(U),{class:C(e(M)("ml-auto h-4 w-4",p.value===t.id?"opacity-100":"opacity-0"))},null,8,["class"])]),_:2},1032,["value","onSelect"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]),a("div",wa,[ba,xa,a("input",{class:"w-3/4 rounded border border-gray-300",disabled:"",value:((_=x.value)==null?void 0:_.position)||"-"},null,8,Ka)])]),ya,o.value?(h(),K("div",Sa,[a("div",ka,[a("div",Ca,[$a,a("p",Ba," : "+i(o.value.name),1)])]),a("div",Da,[a("div",Ua,[Ma,a("p",ja," : "+i(o.value.birth_place),1)])]),a("div",La,[a("div",Na,[Ta,a("p",Pa," : "+i(o.value.birth_date),1)])]),a("div",Va,[a("div",Aa,[Fa,a("p",Ia," : "+i(o.value.gender===1?"Laki-laki":"Perempuan"),1)])]),a("div",Ha,[a("div",Ja,[za,a("p",Ea," : "+i(o.value.religion),1)])]),a("div",Ra,[a("div",Wa,[qa,a("p",Ga," : "+i(o.value.family_card),1)])]),a("div",Oa,[a("div",Qa,[Xa,a("p",Ya," : "+i(o.value.identity_card),1)])]),a("div",Za,[a("div",ae,[ee,a("p",se," : "+i(o.value.address),1)])]),a("div",te,[a("div",le,[ne,a("p",ie," : "+i(o.value.nationality),1)])]),a("div",oe,[a("div",de,[ce,a("p",ue," : "+i(o.value.needs),1)])]),a("div",re,[a("div",_e,[ve,a("div",he,[c(" : "),a("div",{class:"bg-gray-200 px-2 py-1 rounded cursor-pointer hover:bg-gray-300 transition duration-200 ease-in-out ml-1",onClick:n[5]||(n[5]=t=>Y(o.value.attachment))},i(o.value.attachment),1)])])])])):ea("",!0),fe,a("div",me,[a("div",pe,[a("p",null," Bulian, "+i(new Date((v=o.value)==null?void 0:v.updated_at).toLocaleDateString("id-ID").split("/").join("-")),1),ge,a("div",we,[a("img",{src:`/assets/images/signature/${(W=x.value)==null?void 0:W.signature}`,alt:"tanda tangan",class:"w-full"},null,8,be)]),a("p",xe,"("+i((q=x.value)==null?void 0:q.name)+")",1)])])])])]),a("div",{class:"flex justify-end mt-8"},[a("button",{class:"bg-black hover:bg-gray-700 text-white font-bold py-2 px-8 rounded transition duration-200 ease-in-out text-xl cursor-pointer hover:text-white",onClick:X}," Kirim ")])])]}),_:1}))}};export{Ue as default};
