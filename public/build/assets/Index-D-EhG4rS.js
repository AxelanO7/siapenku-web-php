import f from"./CustomAppLayout-urRYLBO2.js";import{A as m}from"./auth_helper-B0JTQqOT.js";import{d as g,i as w,o as s,c as v,w as k,j as D,a as e,e as r,b as C,f as B,t as o,h,F as b,n as N}from"./app-DJZp2O1E.js";import{C as S}from"./CustomSpinner-aZWR6lOG.js";import"./CustomSidebar-DFAkIb0T.js";import"./utils-CPKsmMfW.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const $={class:"mx-12 mt-12 select-none"},T={class:"bg-white rounded-lg shadow-lg"},V={key:0,class:"flex justify-center items-center py-8"},j={class:"text-center font-medium text-xl pb-8 pt-4","v:else":""},L={class:"flex items-center px-20 justify-center h-max relative py-6"},F=e("img",{src:"/assets/images/kop.png",class:"h-28 w-28 absolute left-20"},null,-1),A=e("h3",null,"Data Masyarakat Desa Bulian",-1),H=e("h3",null,"Kecamatan Kabutambahan",-1),I=e("hr",{class:"border-2 border-black my-4"},null,-1),K={class:"table-auto w-full text-center border-collapse border border-gray-400"},M={key:0,class:"bg-gray-100 text-gray-600 border border-gray-400"},R=["colspan"],U={class:"text-center border border-gray-400 px-4 py-2 text-gray-600"},Y={class:"text-center border border-gray-400 px-4 py-2 text-gray-600"},z={class:"text-center border border-gray-400 px-4 py-2 text-gray-600"},E={class:"text-center border border-gray-400 px-4 py-2 text-gray-600"},q=["onClick"],ee={__name:"Index",setup(G){const p=a=>{if(a.status==="pending"){window.location.href=`/village-chief/detail-validate/${a.id}`;return}if(a.status==="sending"){window.location.href=`/village-chief/recommendation/${a.id}`;return}a.status,window.location.href=`/village-chief/done/${a.id}`},c=["No.","Time","Nama","Status"],l=g(!1),i=g([]),y=async()=>{const a=await m.getBaseUrl();await D.get(`${a}/letter`).then(n=>{const t=n.data.data;t.sort((d,u)=>new Date(u.updated_at)-new Date(d.updated_at)),i.value=t}).catch(n=>{console.log(n)})},_=()=>new Date().getFullYear(),x=()=>{window.location.href="/"};return w(()=>{l.value=!0,y(),l.value=!1}),(a,n)=>(s(),v(f,{title:"Resident"},{default:k(()=>[e("div",$,[e("div",T,[l.value?(s(),r("div",V,[C(S)])):B("",!0),e("div",j,[e("div",L,[F,e("div",null,[A,H,e("h3",null,"Tahun "+o(_()),1)])]),I,e("table",K,[e("thead",null,[(s(),r(b,null,h(c,t=>e("th",{class:"bg-gray-200 text-gray-600 uppercase text-sm leading-normal border border-gray-400",key:t},o(t),1)),64))]),e("tbody",null,[i.value.length===0?(s(),r("tr",M,[e("td",{class:"text-center border border-gray-400 px-4 py-2 text-gray-600",colspan:c.length}," Tidak ada data ",8,R)])):(s(!0),r(b,{key:1},h(i.value,(t,d)=>(s(),r("tr",{class:"bg-gray-100 text-gray-600 border border-gray-400",key:d},[e("td",U,o(d+1),1),e("td",Y,o(new Date(t.updated_at).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),1),e("td",z,o(t.name),1),e("td",E,[e("button",{class:N({"bg-blue-400 hover:bg-blue-300 text-white font-bold py-2 px-4 rounded transition duration-200 ease-in-out":t.status==="pending","bg-yellow-400 hover:bg-yellow-300 text-white font-bold py-2 px-4 rounded transition duration-200 ease-in-out":t.status==="sending","bg-green-400 hover:bg-green-300 text-white font-bold py-2 px-4 rounded transition duration-200 ease-in-out":t.status!=="pending"}),onClick:u=>p(t)},o(t.status==="pending"?"Validasi":t.status==="sending"?"Surat Rekomendasi":"Tervalidasi"),11,q)])]))),128))])])])]),e("div",{class:"flex justify-end mt-8"},[e("button",{class:"bg-black hover:bg-gray-700 text-white font-bold py-2 px-8 rounded transition duration-200 ease-in-out text-xl cursor-pointer hover:text-white",onClick:x}," Selesai ")])])]),_:1}))}};export{ee as default};
