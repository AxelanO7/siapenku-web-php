import x from"./CustomAppLayout-DLGeqFrX.js";import{A as f}from"./auth_helper-Chbh1riB.js";import{d as c,i as m,o,c as w,w as v,j as k,a as e,e as r,b as C,f as D,t as s,h as u,F as g,n as B}from"./app-DuH3y1GE.js";import{C as N}from"./CustomSpinner-BehBXOOi.js";import"./CustomSidebar-Cq3E4PUk.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const S={class:"mx-12 mt-12 select-none"},$={class:"bg-white rounded-lg shadow-lg"},V={key:0,class:"flex justify-center items-center py-8"},j={class:"text-center font-medium text-xl pb-8 pt-4","v:else":""},L={class:"flex items-center px-20 justify-center h-max relative py-6"},T=e("img",{src:"/assets/images/kop.png",class:"h-28 w-28 absolute left-20"},null,-1),F=e("h3",null,"Data Masyarakat Desa Bulian",-1),A=e("h3",null,"Kecamatan Kabutambahan",-1),H=e("hr",{class:"border-2 border-black my-4"},null,-1),I={class:"table-auto w-full text-center border-collapse border border-gray-400"},K={class:"text-center border border-gray-400 px-4 py-2 text-gray-600"},M={class:"text-center border border-gray-400 px-4 py-2 text-gray-600"},R={class:"text-center border border-gray-400 px-4 py-2 text-gray-600"},U={class:"text-center border border-gray-400 px-4 py-2 text-gray-600"},Y=["onClick"],W={__name:"Index",setup(z){const h=a=>{if(a.status==="pending"){window.location.href=`/village-chief/detail-validate/${a.id}`;return}if(a.status==="sending"){window.location.href=`/village-chief/recommendation/${a.id}`;return}a.status,window.location.href=`/village-chief/done/${a.id}`},b=["No.","Time","Nama","Status"],l=c(!1),d=c([]),p=async()=>{const a=await f.getBaseUrl();await k.get(`${a}/letter`).then(n=>{const t=n.data.data;d.value=t}).catch(n=>{console.log(n)})},y=()=>new Date().getFullYear(),_=()=>{window.location.href="/"};return m(()=>{l.value=!0,p(),l.value=!1}),(a,n)=>(o(),w(x,{title:"Resident"},{default:v(()=>[e("div",S,[e("div",$,[l.value?(o(),r("div",V,[C(N)])):D("",!0),e("div",j,[e("div",L,[T,e("div",null,[F,A,e("h3",null,"Tahun "+s(y()),1)])]),H,e("table",I,[e("thead",null,[(o(),r(g,null,u(b,t=>e("th",{class:"bg-gray-200 text-gray-600 uppercase text-sm leading-normal border border-gray-400",key:t},s(t),1)),64))]),e("tbody",null,[(o(!0),r(g,null,u(d.value,(t,i)=>(o(),r("tr",{class:"bg-gray-100 text-gray-600 border border-gray-400",key:i},[e("td",K,s(i+1),1),e("td",M,s(new Date(t.updated_at).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),1),e("td",R,s(t.name),1),e("td",U,[e("button",{class:B({"bg-blue-400 hover:bg-blue-300 text-white font-bold py-2 px-4 rounded transition duration-200 ease-in-out":t.status==="pending","bg-yellow-400 hover:bg-yellow-300 text-white font-bold py-2 px-4 rounded transition duration-200 ease-in-out":t.status==="sending","bg-green-400 hover:bg-green-300 text-white font-bold py-2 px-4 rounded transition duration-200 ease-in-out":t.status!=="pending"}),onClick:E=>h(t)},s(t.status==="pending"?"Validasi":t.status==="sending"?"Surat Rekomendasi":"Tervalidasi"),11,Y)])]))),128))])])])]),e("div",{class:"flex justify-end mt-8"},[e("button",{class:"bg-black hover:bg-gray-700 text-white font-bold py-2 px-8 rounded transition duration-200 ease-in-out text-xl cursor-pointer hover:text-white",onClick:_}," Selesai ")])])]),_:1}))}};export{W as default};
