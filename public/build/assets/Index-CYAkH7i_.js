import x from"./CustomAppLayout-BDgcpfAb.js";import{A as f}from"./auth_helper-C2AJogAg.js";import{d as u,i as m,o as s,c as v,w,j as k,a as e,e as r,b as C,f as D,t as o,h as g,F as h,n as B}from"./app-D2BlShc-.js";import{C as N}from"./CustomSpinner-DyXFbKt8.js";import"./CustomSidebar-hxCUpzyd.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const S={class:"mx-12 mt-12 select-none"},$={class:"bg-white rounded-lg shadow-lg"},T={key:0,class:"flex justify-center items-center py-8"},V={class:"text-center font-medium text-xl pb-8 pt-4","v:else":""},j={class:"flex items-center px-20 justify-center h-max relative py-6"},L=e("img",{src:"/assets/images/kop.png",class:"h-28 w-28 absolute left-20"},null,-1),F=e("h3",null,"Data Masyarakat Desa Bulian",-1),A=e("h3",null,"Kecamatan Kabutambahan",-1),H=e("hr",{class:"border-2 border-black my-4"},null,-1),I={class:"table-auto w-full text-center border-collapse border border-gray-400"},K={key:0,class:"bg-gray-100 text-gray-600 border border-gray-400"},M=["colspan"],R={class:"text-center border border-gray-400 px-4 py-2 text-gray-600"},U={class:"text-center border border-gray-400 px-4 py-2 text-gray-600"},Y={class:"text-center border border-gray-400 px-4 py-2 text-gray-600"},z={class:"text-center border border-gray-400 px-4 py-2 text-gray-600"},E=["onClick"],Z={__name:"Index",setup(q){const b=a=>{if(a.status==="pending"){window.location.href=`/village-chief/detail-validate/${a.id}`;return}if(a.status==="sending"){window.location.href=`/village-chief/recommendation/${a.id}`;return}a.status,window.location.href=`/village-chief/done/${a.id}`},i=["No.","Time","Nama","Status"],l=u(!1),d=u([]),p=async()=>{const a=await f.getBaseUrl();await k.get(`${a}/letter`).then(n=>{const t=n.data.data;d.value=t}).catch(n=>{console.log(n)})},y=()=>new Date().getFullYear(),_=()=>{window.location.href="/"};return m(()=>{l.value=!0,p(),l.value=!1}),(a,n)=>(s(),v(x,{title:"Resident"},{default:w(()=>[e("div",S,[e("div",$,[l.value?(s(),r("div",T,[C(N)])):D("",!0),e("div",V,[e("div",j,[L,e("div",null,[F,A,e("h3",null,"Tahun "+o(y()),1)])]),H,e("table",I,[e("thead",null,[(s(),r(h,null,g(i,t=>e("th",{class:"bg-gray-200 text-gray-600 uppercase text-sm leading-normal border border-gray-400",key:t},o(t),1)),64))]),e("tbody",null,[d.value.length===0?(s(),r("tr",K,[e("td",{class:"text-center border border-gray-400 px-4 py-2 text-gray-600",colspan:i.length}," Tidak ada data ",8,M)])):(s(!0),r(h,{key:1},g(d.value,(t,c)=>(s(),r("tr",{class:"bg-gray-100 text-gray-600 border border-gray-400",key:c},[e("td",R,o(c+1),1),e("td",U,o(new Date(t.updated_at).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),1),e("td",Y,o(t.name),1),e("td",z,[e("button",{class:B({"bg-blue-400 hover:bg-blue-300 text-white font-bold py-2 px-4 rounded transition duration-200 ease-in-out":t.status==="pending","bg-yellow-400 hover:bg-yellow-300 text-white font-bold py-2 px-4 rounded transition duration-200 ease-in-out":t.status==="sending","bg-green-400 hover:bg-green-300 text-white font-bold py-2 px-4 rounded transition duration-200 ease-in-out":t.status!=="pending"}),onClick:G=>b(t)},o(t.status==="pending"?"Validasi":t.status==="sending"?"Surat Rekomendasi":"Tervalidasi"),11,E)])]))),128))])])])]),e("div",{class:"flex justify-end mt-8"},[e("button",{class:"bg-black hover:bg-gray-700 text-white font-bold py-2 px-8 rounded transition duration-200 ease-in-out text-xl cursor-pointer hover:text-white",onClick:_}," Selesai ")])])]),_:1}))}};export{Z as default};
