import Z from"./CustomAppLayout-D1_8-cfG.js";import{d as r,i as aa,o as h,c as G,w as l,j as y,a,b as s,u as e,g as d,t as i,e as K,h as k,n as C,F as $,f as ea}from"./app-BKVklgcl.js";import{A as B}from"./auth_helper-C-Aylin_.js";import{_ as D,c as U}from"./index-CzCFa8x1.js";import{a as j,C as M,b as L,c as P,d as N,e as T,f as A,g as V,h as F,_ as I}from"./PopoverContent-q7yLgaOz.js";import{S as H}from"./sweetalert2.all-BnO6HLk3.js";import{C as J}from"./check-CJc47_-L.js";import"./CustomSidebar-CZelsswH.js";const sa={class:"m-12"},ta={class:"bg-white rounded-lg shadow-lg"},la={class:"text-center font-medium text-xl pt-4 pb-8"},na=a("div",{class:"flex items-center px-20 justify-center h-max relative py-6"},[a("img",{src:"/assets/images/kop.png",class:"h-28 w-28 absolute left-20"}),a("div",null,[a("h3",null,"Pemerintahan Kabupaten Buleleng"),a("h3",null,"Kecamatan Kabutambahan"),a("h3",null,"Banjar Dinas Dangin Margi")])],-1),ia=a("hr",{class:"border-2 border-black my-4"},null,-1),oa={class:"flex items-center w-full justify-center space-x-4"},ca=a("h3",null,"Surat Keterangan :",-1),da=a("div",{class:"h-4"},null,-1),ua={class:"flex items-center w-full justify-center space-x-4"},ra=a("h3",null,"Nomor :",-1),_a=a("div",{class:"h-4"},null,-1),va={class:"px-8 text-left"},ha=a("h3",{class:"mb-4"}," Saya yang bertanda tangan dibawah ini : ",-1),fa={class:"space-y-2"},pa={class:"flex items-center"},ma=a("p",{class:"w-1/4"},"a. Nama",-1),ga=a("p",{class:"mx-4"},":",-1),wa={class:"flex"},xa=a("p",{class:"w-1/4"},"b. Jabatan",-1),ba=a("p",{class:"mx-4"},":",-1),Ka=["value"],Sa=a("h3",{class:"my-4"},"Dengan ini menyatakan bahwa :",-1),ya={key:0,class:"space-y-2"},ka={class:"flex pl-8"},Ca={class:"flex w-full items-center"},$a=a("div",{class:"w-1/4"},"1. Nama",-1),Ba={class:"w-3/4"},Da={class:"flex pl-8"},Ua={class:"flex w-full items-center"},ja=a("div",{class:"w-1/4"},"2. Tempat Lahir",-1),Ma={class:"w-3/4"},La={class:"flex pl-8"},Pa={class:"flex w-full items-center"},Na=a("div",{class:"w-1/4"},"3. Tanggal Lahir",-1),Ta={class:"w-3/4"},Aa={class:"flex pl-8"},Va={class:"flex w-full items-center"},Fa=a("div",{class:"w-1/4"},"4. Jenis Kelamin",-1),Ia={class:"w-3/4"},Ha={class:"flex pl-8"},Ja={class:"flex w-full items-center"},za=a("div",{class:"w-1/4"},"5. Agama",-1),Ea={class:"w-3/4"},Ra={class:"flex pl-8"},Wa={class:"flex w-full items-center"},qa=a("div",{class:"w-1/4"},"6. No. KK",-1),Ga={class:"w-3/4"},Oa={class:"flex pl-8"},Qa={class:"flex w-full items-center"},Xa=a("div",{class:"w-1/4"},"7. NIK",-1),Ya={class:"w-3/4"},Za={class:"flex pl-8"},ae={class:"flex w-full items-center"},ee=a("div",{class:"w-1/4"},"8. Alamat",-1),se={class:"w-3/4"},te={class:"flex pl-8"},le={class:"flex w-full items-center"},ne=a("div",{class:"w-1/4"},"9. Kebangsaan",-1),ie={class:"w-3/4"},oe={class:"flex pl-8"},ce={class:"flex w-full items-center"},de=a("div",{class:"w-1/4"},"10. Keperluan",-1),ue={class:"w-3/4"},re={class:"flex pl-8"},_e={class:"flex w-full items-center"},ve=a("div",{class:"w-1/4"}," 11. Status Perkawinan ",-1),he={class:"w-3/4"},fe={class:"flex pl-8"},pe={class:"flex w-full items-center"},me=a("div",{class:"w-1/4"},"12. Pekerjaan",-1),ge={class:"w-3/4"},we={class:"flex pl-8"},xe={class:"flex w-full items-center"},be=a("div",{class:"w-1/4"},"13. Lampiran",-1),Ke={class:"flex"},Se=a("p",{class:"mt-12"}," Demikian surat keterangan ini dibuat untuk dipergunakan dengan semestinya. ",-1),ye={class:"flex justify-end"},ke={class:"text-center"},Ce=a("p",null,"Kelian Banjar Dinas Dangin Margi",-1),$e={class:"w-44 mx-auto p-1 rounded mt-4"},Be=["src"],De={class:"mt-4"},Fe={__name:"Recommendation",setup(Ue){const z=[{label:"Surat Keterangan Usaha",value:"Surat Keterangan Usaha"},{label:"Surat Keterangan Domisili",value:"Surat Keterangan Domisili"},{label:"Surat Keterangan Tidak Mampu",value:"Surat Keterangan Tidak Mampu"},{label:"Surat Keterangan Kematian",value:"Surat Keterangan Kematian"},{label:"Surat Keterangan Lahir",value:"Surat Keterangan Lahir"},{label:"Surat Keterangan Pindah",value:"Surat Keterangan Pindah"},{label:"Surat Keterangan Cerai",value:"Surat Keterangan Cerai"},{label:"Surat Keterangan Belum Menikah",value:"Surat Keterangan Belum Menikah"},{label:"Surat Keterangan Menikah",value:"Surat Keterangan Menikah"}],g=r(!1),f=r(""),E=[{label:"01/SKU/2024",value:"01/SKU/2024"},{label:"02/SKD/2024",value:"02/SKD/2024"},{label:"03/SKT/2024",value:"03/SKT/2024"},{label:"04/SKK/2024",value:"04/SKK/2024"},{label:"05/SKL/2024",value:"05/SKL/2024"},{label:"06/SKP/2024",value:"06/SKP/2024"},{label:"07/SKC/2024",value:"07/SKC/2024"},{label:"08/SKBM/2024",value:"08/SKBM/2024"},{label:"09/SKM/2024",value:"09/SKM/2024"}],w=r(!1),p=r(""),x=r(!1),m=r(""),b=r(),O=async()=>{const u=await B.getBaseUrl();y.get(`${u}/letter/${R}`).then(n=>{const _=n.data.data;o.value=_}).catch(n=>{console.log(n)})},o=r(),Q=async()=>{const u=await B.getBaseUrl();y.get(`${u}/kadus`).then(n=>{const _=n.data.data;S.value=_}).catch(n=>{console.log(n)})},S=r(),X=async()=>{const u=await B.getBaseUrl();let n=o.value;const _={no_letter:p.value,type_letter:f.value,kadus_id:m.value};n={...n,..._},n.status="sended",y.put(`${u}/letter/${R}`,n).then(v=>{console.log(v),H.fire({icon:"success",title:"Data berhasil dikirim",showConfirmButton:!1,timer:1500}),window.location.href="/village-chief/validate"}).catch(v=>{H.fire({icon:"error",title:"Data gagal dikirim",showConfirmButton:!1,timer:1500}),console.log(v)})},Y=u=>{H.fire({title:"Lampiran",text:u,imageUrl:`/files/${u}`,imageWidth:400,imageHeight:200,imageAlt:"Custom image"})},R=window.location.href.split("/").pop();return aa(()=>{O(),Q()}),(u,n)=>(h(),G(Z,{title:"Submission"},{default:l(()=>{var _,v,W,q;return[a("div",sa,[a("div",ta,[a("div",la,[na,ia,a("div",oa,[ca,s(e(I),{open:g.value,"onUpdate:open":n[1]||(n[1]=t=>g.value=t)},{default:l(()=>[s(e(j),{"as-child":""},{default:l(()=>[s(e(D),{variant:"outline",role:"combobox","aria-expanded":g.value,class:"justify-between"},{default:l(()=>{var t;return[d(i(f.value?(t=z.find(c=>c.value===f.value))==null?void 0:t.label:"Pilih surat keterangan...")+" ",1),s(e(M),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]}),_:1},8,["aria-expanded"])]),_:1}),s(e(L),{class:"w-[200px] p-0"},{default:l(()=>[s(e(P),null,{default:l(()=>[s(e(N),{class:"h-9",placeholder:"Cari suket..."}),s(e(T),null,{default:l(()=>[d(" Tidak ada data ")]),_:1}),s(e(A),null,{default:l(()=>[s(e(V),null,{default:l(()=>[(h(),K($,null,k(z,t=>s(e(F),{key:t.value,value:t.value,onSelect:n[0]||(n[0]=c=>{typeof c.detail.value=="string"&&(f.value=c.detail.value),g.value=!1})},{default:l(()=>[d(i(t.label)+" ",1),s(e(J),{class:C(e(U)("ml-auto h-4 w-4",f.value===t.value?"opacity-100":"opacity-0"))},null,8,["class"])]),_:2},1032,["value"])),64))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]),da,a("div",ua,[ra,s(e(I),{open:w.value,"onUpdate:open":n[3]||(n[3]=t=>w.value=t)},{default:l(()=>[s(e(j),{"as-child":""},{default:l(()=>[s(e(D),{variant:"outline",role:"combobox","aria-expanded":w.value,class:"justify-between"},{default:l(()=>{var t;return[d(i(p.value?(t=E.find(c=>c.value===p.value))==null?void 0:t.label:"Pilih nomor surat...")+" ",1),s(e(M),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]}),_:1},8,["aria-expanded"])]),_:1}),s(e(L),{class:"w-[200px] p-0"},{default:l(()=>[s(e(P),null,{default:l(()=>[s(e(N),{class:"h-9",placeholder:"Cari nomor surat..."}),s(e(T),null,{default:l(()=>[d(" Tidak ada data ")]),_:1}),s(e(A),null,{default:l(()=>[s(e(V),null,{default:l(()=>[(h(),K($,null,k(E,t=>s(e(F),{key:t.value,value:t.value,onSelect:n[2]||(n[2]=c=>{typeof c.detail.value=="string"&&(p.value=c.detail.value),w.value=!1})},{default:l(()=>[d(i(t.label)+" ",1),s(e(J),{class:C(e(U)("ml-auto h-4 w-4",p.value===t.value?"opacity-100":"opacity-0"))},null,8,["class"])]),_:2},1032,["value"])),64))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]),_a,a("div",va,[ha,a("div",fa,[a("div",pa,[ma,ga,s(e(I),{open:x.value,"onUpdate:open":n[4]||(n[4]=t=>x.value=t)},{default:l(()=>[s(e(j),{"as-child":""},{default:l(()=>[s(e(D),{variant:"outline",role:"combobox","aria-expanded":x.value,class:"justify-between w-3/4"},{default:l(()=>{var t;return[d(i(m.value?(t=S.value.find(c=>c.id===m.value))==null?void 0:t.name:"Pilih nama...")+" ",1),s(e(M),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]}),_:1},8,["aria-expanded"])]),_:1}),s(e(L),{class:"w-[200px] p-0"},{default:l(()=>[s(e(P),null,{default:l(()=>[s(e(N),{class:"h-9",placeholder:"Cari nama..."}),s(e(T),null,{default:l(()=>[d(" Tidak ada data ")]),_:1}),s(e(A),null,{default:l(()=>[s(e(V),null,{default:l(()=>[(h(!0),K($,null,k(S.value,t=>(h(),G(e(F),{key:t.id,value:t.id,onSelect:c=>{typeof c.detail.value=="number"&&(m.value=c.detail.value),b.value=t,x.value=!1}},{default:l(()=>[d(i(t.name)+" ",1),s(e(J),{class:C(e(U)("ml-auto h-4 w-4",m.value===t.id?"opacity-100":"opacity-0"))},null,8,["class"])]),_:2},1032,["value","onSelect"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]),a("div",wa,[xa,ba,a("input",{class:"w-3/4 rounded border border-gray-300",disabled:"",value:((_=b.value)==null?void 0:_.position)||"-"},null,8,Ka)])]),Sa,o.value?(h(),K("div",ya,[a("div",ka,[a("div",Ca,[$a,a("p",Ba," : "+i(o.value.name),1)])]),a("div",Da,[a("div",Ua,[ja,a("p",Ma," : "+i(o.value.birth_place),1)])]),a("div",La,[a("div",Pa,[Na,a("p",Ta," : "+i(o.value.birth_date),1)])]),a("div",Aa,[a("div",Va,[Fa,a("p",Ia," : "+i(o.value.gender===1?"Laki-laki":"Perempuan"),1)])]),a("div",Ha,[a("div",Ja,[za,a("p",Ea," : "+i(o.value.religion),1)])]),a("div",Ra,[a("div",Wa,[qa,a("p",Ga," : "+i(o.value.family_card),1)])]),a("div",Oa,[a("div",Qa,[Xa,a("p",Ya," : "+i(o.value.identity_card),1)])]),a("div",Za,[a("div",ae,[ee,a("p",se," : "+i(o.value.address),1)])]),a("div",te,[a("div",le,[ne,a("p",ie," : "+i(o.value.nationality),1)])]),a("div",oe,[a("div",ce,[de,a("p",ue," : "+i(o.value.needs),1)])]),a("div",re,[a("div",_e,[ve,a("p",he," : "+i(o.value.marital_status),1)])]),a("div",fe,[a("div",pe,[me,a("p",ge," : "+i(o.value.profession.charAt(0).toUpperCase()+o.value.profession.slice(1)),1)])]),a("div",we,[a("div",xe,[be,a("div",Ke,[d(" : "),a("div",{class:"bg-gray-200 px-2 py-1 rounded cursor-pointer hover:bg-gray-300 transition duration-200 ease-in-out ml-1",onClick:n[5]||(n[5]=t=>Y(o.value.attachment))},i(o.value.attachment),1)])])])])):ea("",!0),Se,a("div",ye,[a("div",ke,[a("p",null," Bulian, "+i(new Date((v=o.value)==null?void 0:v.updated_at).toLocaleDateString("id-ID").split("/").join("-")),1),Ce,a("div",$e,[a("img",{src:`/assets/images/signature/${(W=b.value)==null?void 0:W.signature}`,alt:"tanda tangan",class:"w-full"},null,8,Be)]),a("p",De,"("+i((q=b.value)==null?void 0:q.name)+")",1)])])])])]),a("div",{class:"flex justify-end mt-8"},[a("button",{class:"bg-black hover:bg-gray-700 text-white font-bold py-2 px-8 rounded transition duration-200 ease-in-out text-xl cursor-pointer hover:text-white",onClick:X}," Kirim ")])])]}),_:1}))}};export{Fe as default};
