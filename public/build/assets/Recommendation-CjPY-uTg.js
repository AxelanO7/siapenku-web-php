import F from"./CustomAppLayout-DrHFvSw7.js";import{d as o,i as H,o as _,c as N,w as c,j as w,a,t as d,b as l,u as r,g as v,e as p,h as T,n as J,F as j}from"./app-DG7Pnb8T.js";import{A as x}from"./auth_helper-CPMV5Pt2.js";import{c as M}from"./utils-n-rw4XTg.js";import{_ as z}from"./index-BpJ8zUNK.js";import{C as R,_ as E,a as O,b as W,c as G,d as Q,e as X}from"./CommandList-DO4H2AyL.js";import{a as Y,b as Z,_ as aa}from"./CustomSidebar-CxkkTbBr.js";import{S as y}from"./sweetalert2.all-BQIjdqMU.js";import{C as ea}from"./check-D0oBFcyD.js";const ta={class:"m-12"},sa={class:"bg-white rounded-lg shadow-lg"},na={class:"text-center font-medium text-xl pt-4 pb-8"},ra=a("div",{class:"flex items-center px-20 justify-center h-max relative py-6"},[a("img",{src:"/assets/images/kop.png",class:"h-28 w-28 absolute left-20"}),a("div",null,[a("h3",null,"Pemerintahan Kabupaten Buleleng"),a("h3",null,"Kecamatan Kabutambahan"),a("h3",null,"Banjar Dinas Dangin Margi")])],-1),ia=a("hr",{class:"border-2 border-black my-4"},null,-1),la={class:"flex items-center w-full justify-center space-x-4"},oa=a("h3",null,"Surat Keterangan :",-1),ca=a("div",{class:"h-4"},null,-1),da={class:"flex items-center w-full justify-center space-x-4"},ua=a("h3",null,"Nomor :",-1),_a=a("div",{class:"h-4"},null,-1),ma={class:"px-8 text-left"},ha=a("h3",{class:"mb-4"}," Saya yang bertanda tangan dibawah ini : ",-1),pa={class:"space-y-2"},fa={class:"flex items-center"},ga=a("p",{class:"w-1/4"},"a. Nama",-1),va=a("p",{class:"mx-4"},":",-1),ba={class:"flex"},wa=a("p",{class:"w-1/4"},"b. Jabatan",-1),xa=a("p",{class:"mx-4"},":",-1),ya=["value"],Ka=a("h3",{class:"my-4"},"Dengan ini menyatakan bahwa :",-1),$a={class:"space-y-2"},Da={class:"flex text-left ml-8"},Pa={class:"w-1/3 flex"},ka={class:"w-10"},Aa=["onClick"],Ca=["onClick"],Na={key:1,class:"w-2/3"},Ta=a("p",{class:"mt-12"}," Demikian surat keterangan ini dibuat untuk dipergunakan dengan semestinya. ",-1),ja={class:"flex justify-end"},La={class:"text-center"},Ba=a("p",null,"Kelian Banjar Dinas Dangin Margi",-1),Sa={class:"w-44 mx-auto p-1 rounded mt-4"},Ia=["src"],Ua={class:"mt-4"},Wa={__name:"Recommendation",setup(Va){o(!1),o(""),o(!1),o("");const f=o(!1),h=o(""),g=o(),L=async()=>{const s=await x.getBaseUrl();w.get(`${s}/letter/${D}`).then(t=>{const i=t.data.data;m.value=i,B()}).catch(t=>{console.log(t)})},m=o(),K=o(),B=()=>{const s=m.value,t=Object.keys(s).reduce((i,e)=>(e!=="id"&&e!=="status"&&e!=="created_at"&&e!=="updated_at"&&e!=="no_letter"&&e!=="type_letter"&&e!=="name_witness"&&e!=="position_witness"&&e!=="kasi_id"&&e!=="kadus_id"&&e!=="kadus"&&e!=="kasi"&&s[e]!==null&&(i[e]=s[e]),i),{});K.value=t},S=async()=>{const s=await x.getBaseUrl();w.get(`${s}/kadus`).then(t=>{const i=t.data.data;b.value=i}).catch(t=>{console.log(t)})},b=o(),I=async()=>{const s=await x.getBaseUrl();let t=m.value;const i={kadus_id:h.value};t={...t,...i},t.status="sended",delete t.kasi,delete t.kadus,w.put(`${s}/letter/${D}`,t).then(e=>{console.log(e),y.fire({icon:"success",title:"Data berhasil dikirim",showConfirmButton:!1,timer:1500}),window.location.href="/village-chief/validate"}).catch(e=>{y.fire({icon:"error",title:"Data gagal dikirim",showConfirmButton:!1,timer:1500}),console.log(e)})},U=s=>{switch(s){case"id":return"ID";case"status":return"Status";case"created_at":return"Dibuat pada";case"updated_at":return"Diperbarui pada";case"nik":return"NIK";case"name":return"Nama";case"birth_place":return"Tempat Lahir";case"birth_date":return"Tanggal Lahir";case"gender":return"Jenis Kelamin";case"religion":return"Agama";case"address":return"Alamat";case"family_card":return"Nomor Kartu Keluarga";case"identity_card":return"Nomor KTP";case"nationality":return"Kewarganegaraan";case"marital_status":return"Status Perkawinan";case"profession":return"Pekerjaan";case"needs":return"Keperluan";case"attachment":return"Lampiran";case"type_submission":return"Jenis Pengajuan";case"att_family_card":return"Lampiran Kartu Keluarga";case"att_certificate":return"Lampiran Ijazah";case"att_rs":return"Lampiran Surat Keterangan Rumah Sakit";case"order_child":return"Anak ke";case"birth_attendant":return"Pembantu Kelahiran";case"address_attendant":return"Alamat Pembantu Kelahiran";case"identity_card_mother":return"Nomor KTP Ibu";case"name_mother":return"Nama Ibu";case"birth_place_mother":return"Tempat Lahir Ibu";case"birth_date_mother":return"Tanggal Lahir Ibu";case"address_mother":return"Alamat Ibu";case"identity_card_father":return"Nomor KTP Ayah";case"name_father":return"Nama Ayah";case"birth_place_father":return"Tempat Lahir Ayah";case"birth_date_father":return"Tanggal Lahir Ayah";case"address_father":return"Alamat Ayah";case"name_requester":return"Nama Pemohon";case"identity_card_requester":return"Nomor KTP Pemohon";case"address_requester":return"Alamat Pemohon";case"relationship_requester":return"Hubungan dengan Pemohon";case"date_death":return"Tanggal Kematian";case"village_death":return"Desa Kematian";case"sub_district_death":return"Kecamatan Kematian";case"district_death":return"Kabupaten Kematian";case"province_death":return"Provinsi Kematian";case"cause_death":return"Penyebab Kematian";default:return s}},$=s=>{y.fire({title:"Lampiran",text:s,imageUrl:`/files/${s}`,imageWidth:400,imageHeight:200,imageAlt:"Custom image"})},D=window.location.href.split("/").pop();return H(()=>{L(),S()}),(s,t)=>(_(),N(F,{title:"Submission"},{default:c(()=>{var i,e,P,k,A,C;return[a("div",ta,[a("div",sa,[a("div",na,[ra,ia,a("div",la,[oa,a("p",null,d((i=m.value)==null?void 0:i.type_letter),1)]),ca,a("div",da,[ua,a("p",null,d((e=m.value)==null?void 0:e.no_letter),1)]),_a,a("div",ma,[ha,a("div",pa,[a("div",fa,[ga,va,l(r(aa),{open:f.value,"onUpdate:open":t[0]||(t[0]=n=>f.value=n)},{default:c(()=>[l(r(Y),{"as-child":""},{default:c(()=>[l(r(z),{variant:"outline",role:"combobox","aria-expanded":f.value,class:"justify-between w-3/4"},{default:c(()=>{var n;return[v(d(h.value?(n=b.value.find(u=>u.id===h.value))==null?void 0:n.name:"Pilih nama...")+" ",1),l(r(R),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]}),_:1},8,["aria-expanded"])]),_:1}),l(r(Z),{class:"w-[200px] p-0"},{default:c(()=>[l(r(E),null,{default:c(()=>[l(r(O),{class:"h-9",placeholder:"Cari nama..."}),l(r(W),null,{default:c(()=>[v(" Tidak ada data ")]),_:1}),l(r(G),null,{default:c(()=>[l(r(Q),null,{default:c(()=>[(_(!0),p(j,null,T(b.value,n=>(_(),N(r(X),{key:n.id,value:n.id,onSelect:u=>{typeof u.detail.value=="number"&&(h.value=u.detail.value),g.value=n,f.value=!1}},{default:c(()=>[v(d(n.name)+" ",1),l(r(ea),{class:J(r(M)("ml-auto h-4 w-4",h.value===n.id?"opacity-100":"opacity-0"))},null,8,["class"])]),_:2},1032,["value","onSelect"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]),a("div",ba,[wa,xa,a("input",{class:"w-3/4 rounded border border-gray-300",disabled:"",value:((P=g.value)==null?void 0:P.position)||"-"},null,8,ya)])]),Ka,a("div",$a,[(_(!0),p(j,null,T(K.value,(n,u,V)=>(_(),p("div",null,[a("div",Da,[a("div",Pa,[a("h3",ka,d(V+1)+".",1),a("h3",null,d(U(u)),1)]),u==="att_family_card"||u==="att_certificate"||u==="att_rs"?(_(),p("div",{key:0,class:"w-2/3 flex",onClick:q=>$(n)},[v(" : "),a("div",{class:"bg-gray-200 px-2 py-1 rounded cursor-pointer hover:bg-gray-300 transition duration-200 ease-in-out ml-1",onClick:q=>$(n)},d(n),9,Ca)],8,Aa)):(_(),p("div",Na," : "+d(n),1))])]))),256))]),Ta,a("div",ja,[a("div",La,[a("p",null," Bulian, "+d(new Date((k=m.value)==null?void 0:k.updated_at).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}).split("/").join("-")),1),Ba,a("div",Sa,[a("img",{src:`/assets/images/signature/${(A=g.value)==null?void 0:A.signature}`,alt:"tanda tangan",class:"w-full"},null,8,Ia)]),a("p",Ua,"("+d((C=g.value)==null?void 0:C.name)+")",1)])])])])]),a("div",{class:"flex justify-end mt-8"},[a("button",{class:"bg-black hover:bg-gray-700 text-white font-bold py-2 px-8 rounded transition duration-200 ease-in-out text-xl cursor-pointer hover:text-white",onClick:I}," Kirim ")])])]}),_:1}))}};export{Wa as default};
