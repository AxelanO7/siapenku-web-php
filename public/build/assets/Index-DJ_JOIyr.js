import v from"./CustomAppLayout-BDgcpfAb.js";import{A as w}from"./auth_helper-C2AJogAg.js";import{d as u,i as k,o as a,c as S,w as C,j as D,a as e,e as s,b as g,t as r,F as b,h as y,f as d,n as B}from"./app-D2BlShc-.js";import{C as p}from"./CustomSpinner-DyXFbKt8.js";import{S as N}from"./sweetalert2.all-CHxwCVRs.js";import"./CustomSidebar-hxCUpzyd.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const T={class:"mx-12 mt-12 mb-8"},V={class:"bg-white rounded-lg shadow-lg"},$={key:0,class:"flex justify-center items-center py-8"},j={key:1,class:"text-center font-medium text-xl pb-8 pt-4"},K={class:"flex items-center px-20 justify-center h-max relative py-6"},L=e("img",{src:"/assets/images/kop.png",class:"h-28 w-28 absolute left-20"},null,-1),A=e("h3",null,"Validasi Surat Administrasi Desa Bulian",-1),F=e("h3",null,"Kecamatan Kabutambahan",-1),E=e("hr",{class:"border-2 border-black my-4"},null,-1),H={class:"table-auto w-full text-center border-collapse border border-gray-400"},I={key:0,class:"bg-gray-100 text-gray-600 border border-gray-400"},U=e("td",{class:"text-center border border-gray-400 px-4 py-2 text-gray-600",colspan:"4"}," Tidak ada data ",-1),Y=[U],z={key:0,class:"text-center border border-gray-400 px-4 py-2 text-gray-600"},M={key:1,class:"text-center border border-gray-400 px-4 py-2 text-gray-600"},O={key:2,class:"text-center border border-gray-400 px-4 py-2 text-gray-600"},R={key:3,class:"text-center border border-gray-400 px-4 py-2 text-gray-600"},q={key:0,class:"flex justify-center items-center py-8"},G=["onClick"],st={__name:"Index",setup(J){const h=o=>{o.status==="sended"&&(window.location.href=`/government/detail-validate/${o.id}`),o.status==="validated"&&(window.location.href=`/government/print/${o.id}`),o.status==="pending"&&N.fire({title:"Error!",text:"Surat belum divalidasi olek Kadus",icon:"error",confirmButtonText:"OK"}),o.status==="done"&&(window.location.href=`/government/done/${o.id}`)},_=["No.","Time","Nama","Status"],i=u(!1),l=u([]),x=async()=>{const o=await w.getBaseUrl();await D.get(`${o}/letter`).then(n=>{const t=n.data.data;l.value=t}).catch(n=>{console.log(n)})},f=()=>new Date().getFullYear(),m=()=>{window.location.href="/"};return k(()=>{i.value=!0,x(),i.value=!1}),(o,n)=>(a(),S(v,{title:"Resident"},{default:C(()=>[e("div",T,[e("div",V,[i.value?(a(),s("div",$,[g(p)])):(a(),s("div",j,[e("div",K,[L,e("div",null,[A,F,e("h3",null,"Tahun "+r(f()),1)])]),E,e("table",H,[e("thead",null,[(a(),s(b,null,y(_,t=>e("th",{class:"bg-gray-200 text-gray-600 uppercase text-sm leading-normal border border-gray-400",key:t},r(t),1)),64))]),e("tbody",null,[l.value.length===0?(a(),s("tr",I,Y)):(a(!0),s(b,{key:1},y(l.value,(t,c)=>(a(),s("tr",{class:"bg-gray-100 text-gray-600 border border-gray-400",key:c},[t.status!=="pending"?(a(),s("td",z,r(c+1),1)):d("",!0),t.status!=="pending"?(a(),s("td",M,r(new Date(t.updated_at).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),1)):d("",!0),t.status!=="pending"?(a(),s("td",O,r(t.name),1)):d("",!0),t.status!=="pending"?(a(),s("td",R,[o.isSubmitting?(a(),s("div",q,[g(p)])):(a(),s("button",{key:1,class:B({"bg-blue-400 hover:bg-blue-300 text-white font-bold py-2 px-4 rounded transition duration-200 ease-in-out":t.status!=="validated","bg-green-400 hover:bg-green-300 text-white font-bold py-2 px-4 rounded transition duration-200 ease-in-out":t.status==="validated","bg-gray-400 text-white font-bold py-2 px-4 rounded transition duration-200 ease-in-out":t.status==="done"}),onClick:P=>h(t)},r(t.status==="validated"?"Tervalidasi":t.status==="done"?"Sudah Diproses":"Validasi"),11,G))])):d("",!0)]))),128))])])]))]),e("div",{class:"flex justify-end mt-8 mb-12"},[e("button",{class:"bg-black hover:bg-gray-700 text-white font-bold py-2 px-8 rounded transition duration-200 ease-in-out text-xl cursor-pointer hover:text-white",onClick:m}," Selesai ")])])]),_:1}))}};export{st as default};
